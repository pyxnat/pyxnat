dist: xenial
language: python
python:
    - "2.7"
    - "3.6"
    - "3.7"
install:
    - "pip install -r requirements.txt"
    - "pip install -r requirements-dev.txt"
    - "pip install ."
script:
    - "./pyxnat/tests/fetch_config.py $XNAT_HOST --user $XNAT_USER --password $XNAT_PASSWORD"
    - "nosetests pyxnat/tests --nologcapture --with-coverage --cover-inclusive --cover-erase --cover-package ."
    - "coverage report -m"
